<script>
      $(function() {
        function Filter () {
            this.params = {
              order_number: null,
              stone_shape: null,
              stone_color: null,
              diameter: null,
              length_min: null,
              length_max: null,
              width: null,
              date_of_adoption: {
                from: null,
                to: null
              },
            };

            this.load = function (data) {
              data.forEach(row => {
                let name = row.name;
                let value = row.value;

                switch(name) {
                  case 'diameter':
                  case 'length_min':
                  case 'length_max':
                  case 'width':
                    this.params[name] = value ? parseInt(value, 10) : null
                    break
                  case 'date_of_adoption[from]':
                    this.params.date_of_adoption.from = value
                    break
                  case 'date_of_adoption[to]':
                    this.params.date_of_adoption.to = value
                    break
                  default:
                    this.params[name] = value ? value : null
                }
              })
            }

            this.all = function () {
                console.log('filter', this.params)
                return this.params
            }
        }

        window.filter = new Filter();

        Object.defineProperties(filter, {
            stone_shape: {
                get: function () {
                    return filter.params.stone_shape
                },
                set: function (value) {
                    filter.params.stone_shape = value
                }
            }
        })
      })
</script>