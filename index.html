<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Система учета керамогранита и столешниц</title>

        <base target="_top">
        <?!= include('_styles'); ?>        
    </head>
    <body>
        <div class="container-fluid">
          <?!= include('_navbar'); ?>

          <div class="tab-content" id="myTabContent">            
            <div class="tab-pane fade show active" id="need" role="tabpanel" aria-labelledby="need-tab">
              <div class="row">
                  <div class="col-12">
                    <?!= include('_need_form'); ?>
                  </div>
              </div>      
              <div class="row">
                  <div class="col-12">
                    <?!= include('_need_list'); ?>
                  </div>
              </div>             
            </div>
            <div class="tab-pane fade" id="assembly" role="tabpanel" aria-labelledby="assembly-tab">
              <div class="row">
                  <div class="col-12">
                    <?!= include('_assembly_form'); ?>
                  </div>
              </div>      
              <div class="row">
                  <div class="col-12">
                    <?!= include('_assembly_list'); ?>
                  </div>
              </div> 
            </div>
            <div class="tab-pane fade" id="shipment" role="tabpanel" aria-labelledby="shipment-tab">
              <div class="row">
                  <div class="col-12">
                    <?!= include('_shipment_form'); ?>
                  </div>
              </div>      
              <div class="row">
                  <div class="col-12">
                    <?!= include('_shipment_list'); ?>
                  </div>
              </div> 
            </div>

            <div class="tab-pane fade" id="free" role="tabpanel" aria-labelledby="free-tab">
              <div class="row">
                  <div class="col-12">
                    <?!= include('_free_form'); ?>
                  </div>
              </div>      
              <div class="row">
                  <div class="col-12">
                    <?!= include('_free_list'); ?>
                  </div>
              </div> 
            </div>

            <div class="tab-pane fade" id="polishing" role="tabpanel" aria-labelledby="polishing-tab">
              <div class="row">
                  <div class="col-12">
                    <?!= include('_polishing_form'); ?>
                  </div>
              </div>      
              <div class="row">
                  <div class="col-12">
                    <?!= include('_polishing_list'); ?>
                  </div>
              </div> 
            </div>

            <div class="tab-pane fade" id="properties" role="tabpanel" aria-labelledby="properties-tab">

              <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                  <a class="nav-link active" id="stone-color-tab" data-toggle="tab" href="#stone_color_tab" role="tab" aria-controls="stone_color" aria-selected="true">Цвет камня</a>
                </li>
                <li class="nav-item" role="presentation">
                  <a class="nav-link" id="stone-shape-tab" data-toggle="tab" href="#stone_shape_tab" role="tab" aria-controls="profile" aria-selected="false">Форма камня</a>
                </li>
              </ul>
              <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="stone_color_tab" role="tabpanel" aria-labelledby="stone-color-tab">
                  <div class="row">
                      <div class="col-12">
                        <?!= include('_stone_color_form'); ?>                    
                      </div>
                  </div> 
                  <div class="row">
                      <div class="col-12">
                        <?!= include('_stone_color_list'); ?>
                      </div>
                  </div> 
                </div>
                <div class="tab-pane fade" id="stone_shape_tab" role="stone_shape" aria-labelledby="stone-shape-tab">
                  <div class="row">
                      <div class="col-12">
                        <?!= include('_stone_shape_form'); ?>                    
                      </div>
                      <div class="col-12">
                        <?!= include('_stone_shape_list'); ?>                    
                      </div>                  
                  </div> 
                </div>  
              </div>


            </div>

          </div>

        </div>
            
        <!-- Inject embedded js templates -->
        <script>          
          window.needRowTemplate = <?!= JSON.stringify(getContent('_need_row_template')) ?>; 
          window.assemblyRowTemplate = <?!= JSON.stringify(getContent('_assembly_row_template')) ?>;  
          window.shipmentRowTemplate = <?!= JSON.stringify(getContent('_shipment_row_template')) ?>;                     
          window.freeRowTemplate = <?!= JSON.stringify(getContent('_free_row_template')) ?>;
          window.polishingRowTemplate = <?!= JSON.stringify(getContent('_polishing_row_template')) ?>;
          window.stoneColorRowTemplate = <?!= JSON.stringify(getContent('_stone_color_row_template')) ?>;  
          window.stoneShapeRowTemplate = <?!= JSON.stringify(getContent('_stone_shape_row_template')) ?>;  
        </script>

        <script> 
          window.spreadSheetUrl = <?= spreadSheetUrl ?>;
        </script>
        
        <!-- Include modals templates -->
        <?!= include('_message'); ?> 
        <?!= include('_need_move_to_assembly_confirmation'); ?>              
        <?!= include('_need_move_to_polishing_confirmation'); ?>              
        <?!= include('_assembly_move_to_shipment_confirmation'); ?>        
        <?!= include('_shipment_remove_confirmation'); ?> 
        <?!= include('_shipment_move_to_free_confirmation'); ?> 
        <?!= include('_free_remove_confirmation'); ?>
        <?!= include('_free_move_to_assembly_confirmation'); ?>
        <?!= include('_polishing_move_to_assembly_confirmation'); ?>
        <?!= include('_stone_color_remove_confirmation'); ?>         
        <?!= include('_stone_shape_remove_confirmation'); ?>     
        
        <!-- Include libraries scripts -->
        <?!= include('_scripts'); ?>    
        <?!= include('_ejs_script'); ?>

        <!-- Include custom scripts -->
        <?!= include('_layout_script'); ?>  
        <?!= include('_need_script'); ?>
        <?!= include('_assembly_script'); ?>
        <?!= include('_shipment_script'); ?>
        <?!= include('_free_script'); ?>
        <?!= include('_polishing_script'); ?>
        <?!= include('_stone_color_script'); ?>        
        <?!= include('_stone_shape_script'); ?>        

    </body>        
</html>